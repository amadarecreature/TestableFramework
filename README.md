# TestableWebFramework
This framework is emphasizes testability.

## 考え方

### ユニットテストの作り方

#### 担保したいものとそのテスト方法
厳密にいえばすべてユニットごとの機能であるが、概念として分けてみる。

- 構造・・・ユニットごとに機能を分離した場合、その使い方、関係性の妥当性を担保する必要がある。interfaceだけではで強制できない部分
- 機能・・・各メソッドに期待される機能。構造を含んで実現されるため、一部構造の確認にも入る。

##### 構造

構造については、テスト対象ユニットで実現される機能の妥当性とは関係がない。が、クラス構造などの設計思想を維持するために、それが正しく適用されているかを担保する必要がある。
ブラックボックスでは核にできない為、ホワイトボックスの観点でテストが必要になる。なので、テスト方法としては特定のクラスに対しては、こういう構造テストが必要、というようなテストのテンプレートが必要になる。

構造については極力interfaceで制御したいが、それだけでは制御できない部分をこのテストで静的チェックを行うイメージ。
ユニット間のITと同等とも言える。

##### 機能
各ユニットに期待される機能を担保する。期待されるものは、インプットに対して行われる処理であるが、その確認はブラックボックス観点で担保される。
つまり、特定のインプットに対して特定のアウトプットが返されることを担保する。

この「特定のインプット」、「特定のアウトプット」を制御するには構造的に対象のユニットに対して、厳密にインプットの範囲を指定することができ、そのアウトプットも同様に影響範囲を指定できることが前提となる。

たとえば、インプットが引数とDBであれば、引数はメソッド引数のみ、DBアクセスは特定のルールに従ったサービスクラスからのみ行うなどの制限をかける。
この構造を担保するために、前述の「構造」をテストで担保することが必要となる。
